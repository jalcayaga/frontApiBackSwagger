<!-- ------------------------------ Bootstrap JS ---------------------------- -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<!-- Script para modal de delete users -->
<script>
const deleteButtons = document.querySelectorAll('.btn-delete-product');
const deleteForm = document.getElementById('delete-form');
const confirmDeleteModal = document.getElementById('confirm-delete-modal');

deleteButtons.forEach((button) => {
  button.addEventListener('click', (event) => {
    event.preventDefault();
    const tr = event.target.closest('tr');
    const id = tr.getAttribute('data-id');
    deleteForm.action = `/products/delete/${id}`;
    const confirmDeleteButton = confirmDeleteModal.querySelector('.btn-danger');
    confirmDeleteButton.addEventListener('click', () => {
      deleteForm.submit();
    });
    const modal = new bootstrap.Modal(confirmDeleteModal);
    modal.show();
  });
});
</script>

<!-- Script para modal de editar -->
<script>
  const editProductButtons = document.querySelectorAll('.btn-edit-product');
  editProductButtons.forEach((button) => {
    button.addEventListener('click', (event) => {
      const row = event.target.closest('tr');
      const id = row.dataset.id;
      const nombre = row.dataset.nombre;
      const descripcion = row.dataset.descripcion;
      const precio = row.dataset.precio;
      const image = row.dataset.foto;
  
      // Completa el formulario del modal con los datos del producto
      const editId = document.getElementById("editId");
      editId.value = id;
      const editName = document.getElementById("editName");
      editName.value = nombre;
      const editDescripcion = document.getElementById("editDescripcion");
      editDescripcion.value = descripcion;
      const editPrecio = document.getElementById("editPrecio");
      editPrecio.value = precio;
  
      // Actualiza el action del formulario con el ID del producto que se est√° editando
      const editForm = document.getElementById("editForm");
      editForm.action = `/products/update/${id}`;
  
      // Muestra el modal
      const editModal = new bootstrap.Modal(
        document.getElementById("editStudentModal")
      );
      editModal.show();
    });
  });
  </script>
  
  


</body>
</html>